# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

> **æ³¨æ„**: ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯è‡ªå‹•ç”Ÿæˆã•ã‚Œã¾ã™ã€‚ç›´æ¥ç·¨é›†ã—ãªã„ã§ãã ã•ã„ã€‚
>
> å†ç”Ÿæˆ: `pnpm run docs:db`

## ğŸ“š ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä¸€è¦§

ã“ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã¯ã€Drizzle ORMã‚¹ã‚­ãƒ¼ãƒã‹ã‚‰è‡ªå‹•ç”Ÿæˆã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å®šç¾©æ›¸ã¨ERå›³ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚

### ğŸ“Š ERå›³ã¨è¦–è¦šåŒ–

- **[Mermaid ERå›³](./erd.md)** - GitHubã§ç›´æ¥è¡¨ç¤ºã§ãã‚‹ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å›³
  - ãƒ†ãƒ¼ãƒ–ãƒ«é–“ã®ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¦–è¦šçš„ã«ç¢ºèª
  - ä¸»ã‚­ãƒ¼ï¼ˆPKï¼‰ã€å¤–éƒ¨ã‚­ãƒ¼ï¼ˆFKï¼‰ã®è¡¨ç¤º
  - ã™ã¹ã¦ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã¨é–¢ä¿‚ã‚’ä¸€è¦§è¡¨ç¤º

- **[DBMLå½¢å¼](./schema.dbml)** - [dbdiagram.io](https://dbdiagram.io/d)ç”¨ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å®šç¾©
  - ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã§ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªERå›³ã‚’ç”Ÿæˆå¯èƒ½
  - ãƒ†ãƒ¼ãƒ–ãƒ«ã€ã‚«ãƒ©ãƒ ã€ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Œå…¨ãªå®šç¾©
  - `https://dbdiagram.io/d`ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦è¦–è¦šåŒ–

### ğŸ“ è©³ç´°ãªãƒ†ãƒ¼ãƒ–ãƒ«å®šç¾©

- **[ã‚¹ã‚­ãƒ¼ãƒå…¨ä½“](./schema.md)** - å…¨ãƒ†ãƒ¼ãƒ–ãƒ«ã®è©³ç´°æƒ…å ±
  - å„ãƒ†ãƒ¼ãƒ–ãƒ«ã®ã‚«ãƒ©ãƒ å®šç¾©ï¼ˆå‹ã€åˆ¶ç´„ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ï¼‰
  - ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æƒ…å ±
  - å¤–éƒ¨ã‚­ãƒ¼åˆ¶ç´„
  - ãƒ†ãƒ¼ãƒ–ãƒ«ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ¦‚è¦
  - çµ±è¨ˆæƒ…å ±ï¼ˆãƒ†ãƒ¼ãƒ–ãƒ«æ•°ã€ã‚«ãƒ©ãƒ æ•°ã€ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æ•°ï¼‰

- **[ãƒ†ãƒ¼ãƒ–ãƒ«åˆ¥è©³ç´°](./tables/README.md)** - ãƒ†ãƒ¼ãƒ–ãƒ«ã”ã¨ã®å€‹åˆ¥ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
  - å„ãƒ†ãƒ¼ãƒ–ãƒ«ã®ç›®çš„ã¨èª¬æ˜
  - ã‚«ãƒ©ãƒ ä¸€è¦§ã¨è©³ç´°
  - é–¢é€£APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
  - ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æƒ…å ±

## ğŸ”„ ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æ›´æ–°æ–¹æ³•

ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒã‚’å¤‰æ›´ã—ãŸå ´åˆï¼š

```bash
# 1. Drizzleã‚¹ã‚­ãƒ¼ãƒã‚’æ›´æ–°
# drizzle/schema.ts ã‚’ç·¨é›†

# 2. ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆ
pnpm run db:generate

# 3. ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é©ç”¨
pnpm run db:migrate

# 4. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å†ç”Ÿæˆ
pnpm run docs:db
```

### å€‹åˆ¥ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ç”Ÿæˆ

```bash
# ã™ã¹ã¦ã®DBãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç”Ÿæˆ
pnpm run docs:db

# ã¾ãŸã¯å€‹åˆ¥ã«ç”Ÿæˆ
pnpm run docs:db:dbml      # DBMLå½¢å¼
pnpm run docs:db:mermaid   # Mermaid ERå›³
pnpm run docs:db:markdown  # Markdownå½¢å¼ã‚¹ã‚­ãƒ¼ãƒ
pnpm run docs:db:tables    # ãƒ†ãƒ¼ãƒ–ãƒ«åˆ¥è©³ç´°
```

## ğŸ“– é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [API Documentation](../api/README.md) - REST APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆä»•æ§˜
- [OpenAPI Specification](/api-docs) - å¯¾è©±çš„ãªAPIæ–‡æ›¸ï¼ˆè¦ç®¡ç†è€…æ¨©é™ï¼‰
- [Architecture Decision Records](../adr/README.md) - æŠ€è¡“çš„ãªè¨­è¨ˆæ±ºå®šã®è¨˜éŒ²

## ğŸ—„ï¸ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ§‹æˆ

ç¾åœ¨ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒã¯ä»¥ä¸‹ã®ãƒ†ãƒ¼ãƒ–ãƒ«ã§æ§‹æˆã•ã‚Œã¦ã„ã¾ã™ï¼š

### èªè¨¼é–¢é€£
- `users` - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæƒ…å ±
- `accounts` - OAuthèªè¨¼ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼æƒ…å ±ï¼ˆNextAuth.jsï¼‰
- `sessions` - ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ï¼ˆNextAuth.jsï¼‰
- `verification_tokens` - ãƒ¡ãƒ¼ãƒ«èªè¨¼ãƒ»ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆç”¨ãƒˆãƒ¼ã‚¯ãƒ³ï¼ˆNextAuth.jsï¼‰

### æ¥­å‹™ãƒ‡ãƒ¼ã‚¿
- `projects` - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†
- `work_categories` - ä½œæ¥­ã‚«ãƒ†ã‚´ãƒªç®¡ç†
- `work_logs` - ä½œæ¥­è¨˜éŒ²ãƒ»æ™‚é–“ç®¡ç†
- `teams` - ãƒãƒ¼ãƒ ç®¡ç†
- `team_members` - ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ã‚·ãƒƒãƒ—ï¼ˆå¤šå¯¾å¤šãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰

è©³ç´°ã¯å„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

---

> ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯ `scripts/generate-db-readme.ts` ã«ã‚ˆã‚Šè‡ªå‹•ç”Ÿæˆã•ã‚Œã¦ã„ã¾ã™ã€‚
